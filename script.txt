CREATE TABLE Alert (
 id SERIAL PRIMARY KEY,
 created TIMESTAMP NOT NULL,
 title VARCHAR NOT NULL,
 message VARCHAR NOT NULL,
 category VARCHAR,
 severity INTEGER,
 creator UUID NOT NULL,
 contact UUID,
 starting TIMESTAMP NOT NULL,
 ending TIMESTAMP NOT NULL,
 status INTEGER,
 responses VARCHAR NOT NULL
);

CREATE TABLE Template (
 id SERIAL PRIMARY KEY,
 created TIMESTAMP NOT NULL,
 title VARCHAR NOT NULL,
 message VARCHAR NOT NULL,
 category VARCHAR,
 severity INTEGER,
 contact UUID,
 responses VARCHAR NOT NULL
);

CREATE TABLE Alert2User (
 alert_id INTEGER NOT NULL,
 user_id UUID NOT NULL,
 message_status INTEGER,
 escalated TIMESTAMP,
 response_id INTEGER,
 PRIMARY KEY(alert_id, user_id)
);

CREATE TABLE Template2Group (
 template_id INTEGER NOT NULL,
 group_id INTEGER NOT NULL,
 PRIMARY KEY(template_id, group_id)
);

CREATE TABLE Alert2Group (
 alert_id INTEGER NOT NULL,
 group_id INTEGER NOT NULL,
 PRIMARY KEY(alert_id, group_id)
);

------------------------------------------------

CREATE TABLE Groups (
 id INTEGER NOT NULL PRIMARY KEY,
 name VARCHAR NOT NULL,
 type INTEGER,
 deleted INTEGER
);

CREATE TABLE Users (
 id SERIAL PRIMARY KEY,
 firstname VARCHAR NOT NULL,
 surname VARCHAR NOT NULL,
 title VARCHAR NOT NULL,
 department VARCHAR NOT NULL,
 location VARCHAR NOT NULL,
 User_Id UUID
);

CREATE TABLE User2Group (
 group_id INTEGER NOT NULL,
 user_id INTEGER NOT NULL,
 PRIMARY KEY(user_id, group_id)
);